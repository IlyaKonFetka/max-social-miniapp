<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Помощь слабовидящим - Хакатон 573</title>
    <link rel="stylesheet" href="style.css">
    <!-- MAX Bridge библиотека -->
    <script src="https://platform.max.ru/max-bridge.js"></script>
</head>
<body>
    <div class="container">
        <!-- Заголовок -->
        <header class="header">
            <h1>Помощь слабовидящим</h1>
            <p class="subtitle">Быстрая связь с волонтёром (со звонками)</p>
        </header>

        <!-- Главный экран -->
        <main class="main" id="mainScreen">
            <!-- Статус подключения -->
            <div class="status-card" id="statusCard">
                <div class="status-indicator" id="statusIndicator">
                    <span class="status-dot"></span>
                    <span id="statusText">Подключение к MAX...</span>
                </div>
            </div>

            <!-- Основная кнопка вызова -->
            <div class="call-section">
                <button class="btn-call" id="callBtn" disabled>
                    <span class="btn-text">Позвать волонтёра</span>
                </button>
                <p class="call-hint">Нажмите кнопку, и мы соединим вас<br>с волонтёром для помощи</p>
            </div>

            <!-- Быстрые действия -->
            <div class="quick-actions">
                <h2>Чем мы можем помочь?</h2>
                <div class="actions-grid">
                    <button class="action-card" data-action="read">
                        <span class="action-text">Прочитать текст</span>
                    </button>
                    <button class="action-card" data-action="describe">
                        <span class="action-text">Описать изображение</span>
                    </button>
                    <button class="action-card" data-action="navigate">
                        <span class="action-text">Помочь с навигацией</span>
                    </button>
                    <button class="action-card" data-action="other">
                        <span class="action-text">Другое</span>
                    </button>
                </div>
            </div>

            <!-- Информация -->
            <div class="info-section">
                <h3>Как это работает</h3>
                <ol class="info-list">
                    <li>Нажмите кнопку "Позвать волонтёра"</li>
                    <li>Выберите тип помощи, который вам нужен</li>
                    <li>Дождитесь подключения к свободному волонтёру</li>
                    <li>Общайтесь через голосовую связь или чат</li>
                </ol>
            </div>
        </main>

        <!-- Экран ожидания волонтёра -->
        <div class="waiting-screen hidden" id="waitingScreen">
            <div class="waiting-content">
                <div class="spinner"></div>
                <h2>Ищем волонтёра...</h2>
                <p>Пожалуйста, подождите. Обычно это занимает меньше минуты.</p>
                <button class="btn-secondary" id="cancelWaitBtn">Отменить</button>
            </div>
        </div>

        <!-- Экран активного звонка -->
        <div class="call-screen hidden" id="callScreen">
            <div class="call-content">
                <div class="video-wrapper">
                    <video id="remoteVideo" class="remote-video" autoplay playsinline></video>
                    <div class="video-placeholder" id="remotePlaceholder">
                        <p>Ждем подключение волонтера...</p>
                    </div>
                    <video id="localVideo" class="local-video" autoplay playsinline muted></video>
                </div>

                <div class="call-info">
                    <h2>Волонтёр на связи</h2>
                    <p class="volunteer-name" id="volunteerName">Анонимный волонтёр</p>
                    <p class="call-status" id="callStatusText">Подключаемся...</p>
                    <div class="call-timer" id="callTimer">00:00</div>
                </div>
                
                <div class="call-controls">
                    <button class="control-btn mute-btn" id="muteBtn">
                        <span class="control-text">Выкл. микрофон</span>
                    </button>
                    <button class="control-btn camera-btn" id="cameraBtn">
                        <span class="control-text">Выкл. камеру</span>
                    </button>
                    <button class="control-btn end-btn" id="endCallBtn">
                        <span class="control-text">Завершить</span>
                    </button>
                </div>

                <!-- Чат для текстовых сообщений -->
                <div class="chat-toggle">
                    <button id="toggleChatBtn">Открыть чат</button>
                </div>
            </div>
        </div>

        <!-- Футер -->
        <footer class="footer">
            <p>Создано на хакатоне MAX</p>
            <p class="footer-small">Проект "Помощь слабовидящим"</p>
        </footer>
    </div>

    <!-- Подключаем скрипт приложения -->
    <script src="app.js"></script>
</body>
</html>

